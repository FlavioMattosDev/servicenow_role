# vars/module_parameters/incident.yml
---
# Mapeamento de TODOS os campos da API para incidentes
# Baseado na documentação oficial com 70+ campos

incident_fields_mapping:
  # Identificação
  rfc: "{{ incident_rfc | default(omit) }}"
  order: "{{ incident_order | default(omit) }}"
  state: "{{ incident_state | default(1) }}"
  active: "{{ incident_active | default(true) }}"
  impact: "{{ incident_impact | default(3) }}"
  notify: "{{ incident_notify | default(1) }}"
  number: "{{ incident_number | default(omit) }}"
  parent: "{{ incident_parent | default(omit) }}"
  sys_id: "{{ incident_sys_id | default(omit) }}"

  # Informações básicas
  short_description: "{{ incident_short_description | mandatory }}"
  description: "{{ incident_description | default('') }}"
  assigned_to: "{{ incident_assigned_to | default(omit) }}"
  assignment_group: "{{ incident_assignment_group | default(omit) }}"

  # Categorização
  category: "{{ incident_category | default(omit) }}"
  subcategory: "{{ incident_subcategory | default(omit) }}"
  cmdb_ci: "{{ incident_cmdb_ci | default(omit) }}"
  business_service: "{{ incident_business_service | default(omit) }}"

  # Priorização
  severity: "{{ incident_severity | default(3) }}"
  urgency: "{{ incident_urgency | default(3) }}"
  priority: "{{ incident_priority | default(3) }}"

  # Contato
  caller_id: "{{ incident_caller | default(omit) }}"
  contact_type: "{{ incident_contact_type | default('email') }}"
  opened_by: "{{ incident_opened_by | default(omit) }}"

  # Datas
  opened_at: "{{ incident_opened_at | default(omit) }}"
  resolved_at: "{{ incident_resolved_at | default(omit) }}"
  closed_at: "{{ incident_closed_at | default(omit) }}"
  due_date: "{{ incident_due_date | default(omit) }}"

  # Comentários e notas
  comments: "{{ incident_comments | default('') }}"
  work_notes: "{{ incident_work_notes | default('') }}"
  additional_comments: "{{ incident_additional_comments | default(omit) }}"

  # SLA
  made_sla: "{{ incident_made_sla | default(false) }}"
  sla_due: "{{ incident_sla_due | default(omit) }}"
  escalation: "{{ incident_escalation | default(0) }}"

  # Localização
  location: "{{ incident_location | default(omit) }}"
  company: "{{ incident_company | default(omit) }}"
  department: "{{ incident_department | default(omit) }}"

  # Sistema
  sys_created_by: "{{ incident_sys_created_by | default(omit) }}"
  sys_created_on: "{{ incident_sys_created_on | default(omit) }}"
  sys_updated_by: "{{ incident_sys_updated_by | default(omit) }}"
  sys_updated_on: "{{ incident_sys_updated_on | default(omit) }}"
  sys_mod_count: "{{ incident_sys_mod_count | default(0) }}"
  sys_tags: "{{ incident_sys_tags | default(omit) }}"

  # Campos específicos do ServiceNow
  correlation_id: "{{ incident_correlation_id | default(omit) }}"
  correlation_display: "{{ incident_correlation_display | default(omit) }}"
  follow_up: "{{ incident_follow_up | default(omit) }}"
  group_list: "{{ incident_group_list | default(omit) }}"
  knowledge: "{{ incident_knowledge | default(false) }}"
  parent_incident: "{{ incident_parent_incident | default(omit) }}"
  problem_id: "{{ incident_problem_id | default(omit) }}"
  reassignment_count: "{{ incident_reassignment_count | default(0) }}"
  reopen_count: "{{ incident_reopen_count | default(0) }}"
  resolved_by: "{{ incident_resolved_by | default(omit) }}"
  rfc: "{{ incident_rfc | default(omit) }}"
  service_offering: "{{ incident_service_offering | default(omit) }}"
  severity: "{{ incident_severity | default(3) }}"
  subcategory: "{{ incident_subcategory | default(omit) }}"
  sys_domain: "{{ incident_sys_domain | default(omit) }}"
  sys_domain_path: "{{ incident_sys_domain_path | default('/') }}"
  time_worked: "{{ incident_time_worked | default(omit) }}"
  upon_approval: "{{ incident_upon_approval | default('proceed') }}"
  upon_reject: "{{ incident_upon_reject | default('cancel') }}"
  watch_list: "{{ incident_watch_list | default('') }}"
  wf_activity: "{{ incident_wf_activity | default(omit) }}"

  # Adicione mais campos conforme necessário da documentação oficial
